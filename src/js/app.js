!function(){"use strict";angular.module("buscaVideo",["ngRoute","ngSanitize","ngMaterial","ngMessages"])}(),function(){"use strict";angular.module("buscaVideo").config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"src/html/inicial.html",controller:"inicialController"}).when("/details",{templateUrl:"src/html/details.html",controller:"detailsController"}).otherwise({redirectTo:"/"}),t.hashPrefix("")}])}(),function(){"use strict";angular.module("buscaVideo").factory("searchHttpServices",["$http",function(s){var a="AIzaSyDU2tvapuqsf4zJ7HWBY2j1DT5WQgi4EMw",i="https://www.googleapis.com/youtube/v3/search",o="id,snippet";return{defaultRequest:function(e){return s({method:"GET",url:i,params:{key:a,q:e,part:o,maxResults:12,type:"video"}})},pageRequest:function(e,t){return s({method:"GET",url:i,params:{key:a,q:e,part:o,pageToken:t,maxResults:12}})},videoDetailsRequest:function(e){return s({method:"GET",url:"https://www.googleapis.com/youtube/v3/videos",params:{key:a,id:e,part:"snippet,statistics,player"}})}}}])}(),function(){"use strict";angular.module("buscaVideo").factory("applicationModel",["$sce",function(s){return{searchResultModel:function(e){var t=[];return e.forEach(function(e){t.push({id:e.id.videoId||"XIMLoLxmTDw",titulo:e.snippet.title||"Sem título",descricao:e.snippet.description||"Sem descrição",thumbnail:e.snippet.thumbnails.medium.url||"https://placeholdit.co//i/320x180"})}),t},videoDetailsModel:function(e){var t={};return e.forEach(function(e){t.titulo=e.snippet.title||"Sem título",t.descricao=e.snippet.description||"Sem descrição",t.views=e.statistics.viewCount||0,t.embed=s.trustAsHtml(e.player.embedHtml)||"<p>Sem vídeo</p>"}),t}}}])}(),function(){"use strict";angular.module("buscaVideo").controller("detailsController",["$scope","$location","applicationModel","searchHttpServices",function(t,e,s,a){var i=sessionStorage.getItem("videoId");t.back=function(){e.path("/")},a.videoDetailsRequest(i).then(function(e){t.details=s.videoDetailsModel(e.data.items)})}])}(),function(){"use strict";angular.module("buscaVideo").controller("inicialController",["$scope","$location","$window","applicationModel","searchHttpServices",function(a,t,e,i,o){a.search_field=sessionStorage.getItem("termoPesquisa")||"",a.searchResults=JSON.parse(sessionStorage.getItem("listaVideos")),a.totalPages=sessionStorage.getItem("totalPaginas"),a.currentPage=sessionStorage.getItem("paginaAtual"),a.search=function(s){o.defaultRequest(s).then(function(e){var t=e.data.pageInfo;a.nextPage=e.data.nextPageToken,a.totalPages=Math.ceil(t.totalResults/12),a.currentPage=1,a.searchResults=i.searchResultModel(e.data.items),sessionStorage.setItem("listaVideos",JSON.stringify(a.searchResults)),sessionStorage.setItem("paginaAtual",a.currentPage),sessionStorage.setItem("totalPaginas",Math.ceil(t.totalResults/10)),sessionStorage.setItem("termoPesquisa",s),a.search_submit=!0})},a.getPage=function(e,t){o.pageRequest(a.search_field,e).then(function(e){a.nextPage=e.data.nextPageToken,a.prevPage=e.data.prevPageToken,a.searchResults=i.searchResultModel(e.data.items),a.currentPage=t?parseInt(a.currentPage)+1:a.currentPage-1,sessionStorage.setItem("listaVideos",JSON.stringify(a.searchResults)),sessionStorage.setItem("paginaAtual",a.currentPage)})},a.videoDetails=function(e){sessionStorage.setItem("videoId",e),t.path("/details")},a.clear=function(){sessionStorage.clear(),a.searchResults=[],a.currentPage=0,a.totalPages=0,a.search_submit=!1}}])}();